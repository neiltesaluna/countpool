<div class="row" style="padding:15px">

  {% for timer in timers %}

  <div style="padding: 1rem">

    <div class="card card-hover" style="width: 19.6rem; background-color: #5b5656;" data-toggle="modal" data-target="#Modal-{{ timer.id }}">
      <div class="reveal-text">
        <h6 class="card-text">{{ timer.title }}</h6>
        <p class="card-text"id='{{ timer.id }}'></p>
      </div>
      <div class="reveal">
        <img src="{{ url_for('static', filename='bg-image/default-1.jpg') }}" class="img-fluid" alt="">
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="Modal-{{ timer.id }}" tabindex="-1" role="dialog" aria-labelledby="Modal-{{ timer.id }}" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">{{ timer.title }}</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">Ã—</span>
          </button>
        </div>
        <div class="modal-body">

          <img src="{{ url_for('static', filename='bg-image/default-1.jpg') }}" class="img-fluid" alt="">

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-light" data-dismiss="modal">Close</button>
          <a class="btn btn-danger" href="{{ url_for('delete_timer', id=timer.id) }}">delete</a>
        </div>
      </div>
    </div>
  </div>

  {% endfor %}



  <script>
    //document.getElementById("demo").innerHTML = '{{ date }}'
    //Set the date we're counting down to

    function setTimer(end_date, timer_id) {
      // Update the count down every 1 second
        var x = setInterval(function() {

          // Get today's date and time
          var now = new Date().getTime();

          // Find the distance between now and the count down date
          var distance = end_date - now;

          // Time calculations for days, hours, minutes and seconds
          var days = Math.floor(distance / (1000 * 60 * 60 * 24));
          var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
          var seconds = Math.floor((distance % (1000 * 60)) / 1000);

          // Output the result in an element with id="demo"
          timer_id.innerHTML = days + "d " + hours + "h "
          + minutes + "m " + seconds + "s ";

          // If the count down is over, write some text
          if (distance < 0) {
            clearInterval(x);
            timer_id.innerHTML = "EXPIRED";
          }
      }, 1000);
    }

    {% for timer in timers %}

        setTimer(new Date('{{ timer.goal }}').getTime(), document.getElementById('{{ timer.id }}'))

    {% endfor %}

  </script>
</div>
